{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% block title %}
  {% trans "All Orders" %}
{% endblock %}

{% block css %}
  
{% endblock %}

{% block content %}
  <section class="container py-5">
    <header class="d-flex align-items-center justify-content-between mb-4">
      <h1 class="h2 mb-0">{% trans "Reward Orders" %}</h1>
    </header>

    <!-- Open / Undone -->
    <section class="mb-5" aria-labelledby="open-orders">
      <h2 id="open-orders" class="h4 mb-3">{% trans "Open Orders" %}</h2>
      {% if orders_undone.count == 0 %}
        <div class="alert alert-info" role="alert">
          {% trans "No open orders found." %}
        </div>
      {% else %}
        <div class="row row-cols-1 row-cols-md-2 g-4">
          {% for order in orders_undone %}
            <div class="col">
              {% include 'checkout/_order_card.html' with order=order %}
            </div>
          {% endfor %}
        </div>
      {% endif %}

    </section>

    <section class="mb-5" aria-labelledby="past-orders">
      <h2 id="past-orders" class="h4 mb-3">{% trans "Past Orders" %}</h2>
      {% if orders_done.count == 0 %}
        <div class="alert alert-info" role="alert">
          {% trans "No past orders found." %}
        </div>
      {% else %}
        <div class="row row-cols-1 row-cols-md-2 g-4">
          {% for order in orders_done %}
            <div class="col">
              {% include 'checkout/_order_card.html' with order=order %}
            </div>
          {% endfor %}

        </div>
        {% if user.is_authenticated and not perms.tasks.mark_done %}
          <a href="{% url 'order_history' %}" class="btn btn-primary">{% trans "View all orders" %}</a>
        {% endif %}
      {% endif %}

    </section>


  </section>
{% endblock %}
